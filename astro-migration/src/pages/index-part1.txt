---
import Layout from '../layouts/Layout.astro';
import { db } from '../db';
import { announcements } from '../db/schema';
import { eq } from 'drizzle-orm';

const activeAnnouncements = await db.select().from(announcements).where(eq(announcements.isActive, true)).limit(3);
const discordStats = { members: 450, channels: 10, bots: 5 };
---

<Layout title="CodeVerseHub - Discord Programming Community">
<!-- Hero Section (Static Redesign) -->
<section class="hero-static" aria-labelledby="heroTitle">
    <div class="hero-static-bg" aria-hidden="true"></div>
    <div class="container position-relative">
        <div class="row align-items-center g-5">
            <div class="col-xl-6 col-lg-7">
                <header class="hero-static-header">
                    <h1 id="heroTitle" class="hero-static-title">CodeVerseHub<br><span class="accent">Discord Dev Community</span></h1>
                    <p class="hero-static-sub">Learn faster, build smarter, stay motivated. A focused hub for coders who want feedback, resources, events & genuine collaboration.</p>
                </header>
                <ul class="hero-static-points" aria-label="Community benefits">
                    <li><i class="fas fa-bolt"></i> Fast help & peer debugging</li>
                    <li><i class="fas fa-layer-group"></i> Curated learning resources</li>
                    <li><i class="fas fa-trophy"></i> Weekly challenges & events</li>
                    <li><i class="fas fa-comments"></i> Inclusive, beginnerfriendly culture</li>
                </ul>
                <div class="hero-static-ctas">
                    <a href="https://discord.gg/3xKFvKhuGR" class="btn hero-primary" aria-label="Join CodeVerseHub Discord Server"><i class="fab fa-discord me-2"></i>Join Discord</a>
                    <a href="/about" class="btn hero-ghost" aria-label="Learn more about CodeVerseHub"><i class="fas fa-circle-info me-2"></i>Learn More</a>
                </div>
                <div class="hero-static-meta">
                    <div class="meta-item"><span class="num">{discordStats.members}+</span><span class="label">Members</span></div>
                    <div class="meta-item"><span class="num">{discordStats.channels}+</span><span class="label">Channels</span></div>
                    <div class="meta-item"><span class="num">{discordStats.bots}+</span><span class="label">Bots</span></div>
                </div>
            </div>
            <div class="col-xl-6 col-lg-5">
                <div class="hero-static-visual" aria-hidden="true">
                    <div class="orb orb-a"></div>
                    <div class="orb orb-b"></div>
                    <div class="mockup">
                        <i class="fab fa-discord"></i>
                        <span class="ring r1"></span>
                        <span class="ring r2"></span>
                        <span class="ring r3"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
